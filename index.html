<!DOCTYPE html>
<html>
    <head>
        <title>Bria's iFrame</title></head>
    <style>
        html, body, .container {
            height: 100%;
        }
        .container {
            display: flex;
            flex-direction: column;
        }
        .titleContainer {
            padding: 10px 0;
        }
        .title {
            font-size: 32px;
            font-weight: bold;
        }
        iframe {
            height: 85%;
        }
    </style>
    <body>
        <div class="container" id="container">
            <div class="titleContainer">
                <span class="title">Bria's iFrame Example</span>
                <span> // Open browser console to see post messages</span>
            </div>
        </div>
        <script>
            const iframeId = "1";
            const vhash = "8679a552aa79cc96"
            const iframeUrl = `https://prod.embedded.bria.ai/?iframeId=${iframeId}&sourceDomain=${window.location.origin}&vhash=${vhash}`;

            const iframeElement = document.createElement("iframe");
            iframeElement.setAttribute("src", iframeUrl);
            document.getElementById("container").appendChild(iframeElement);

            window.addEventListener(
                "message",
                (event) => {
                    if (event.data && event.data["type"] && event.data["type"].startsWith("Bria")) {
                        console.log(`Event received: ${JSON.stringify(event.data)}`);
                    }
                },
                false
            );
        </script>
    </body>
</html>

